import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.Z3BHPS3u.js";import{i as N}from"./jwt.1xGNZsvU.js";import{u as p}from"./billing.D5yrowA9.js";import{U as k}from"./UpgradeAccountModal.fZmxo5nD.js";import{u as v,q as L}from"./query-client.zrB8z_yM.js";import{a as C}from"./ai-course.DbIkPj3f.js";import{A as M}from"./AILimitsPopup.D5vT42pW.js";import{c as d}from"./classname.y9b8gBZq.js";import{u as I}from"./use-auth.Bw1nhFr_.js";import{l as S}from"./auth.Blx_4y9V.js";import{s as z}from"./popup.CdCAhVM2.js";import{D as A,a as U,b as P,c,d as T}from"./DropdownMenu.DLecQPzF.js";import{c as u}from"./createLucideIcon.BSLrQS80.js";import{C as H}from"./chevron-down.pBq1owZr.js";import{U as D}from"./user-round.D2mOPNuO.js";import{C as F}from"./credit-card.bcfoan7u.js";import{S as V}from"./settings.Dhc_ymfO.js";import{L as O}from"./log-out.DpAdf0Mt.js";import{U as R}from"./UpgradeSidebarCard.D94_Cbdl.js";import{X as Z}from"./x.BOdyWiWF.js";import{P as q}from"./plus.CstxCH0M.js";import{S as B}from"./swords.C6qRCXus.js";import{M as E}from"./message-circle.C1uJbl19.js";import{M as _}from"./map.DuWy2ZcB.js";import{B as $}from"./book-open.Dsgc4gH7.js";import{S as Q}from"./star.B-cQRnHp.js";import{R as W}from"./RoadmapLogo.CJwoV5Wp.js";import{M as X}from"./menu.B2j5jEPR.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G=u("compass",Y);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],K=u("log-in",J);function ee(a){return e.jsxs("svg",{viewBox:"0 0 310 248",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[e.jsx("rect",{width:"310",height:"247.211",fill:"black"}),e.jsx("path",{d:"M205.179 45.1641H263.851V201.278H205.179V45.1641Z",fill:"white"}),e.jsx("path",{d:"M45.1641 45.1743H104.598L104.598 202.048H45.1641L45.1641 45.1743Z",fill:"white"}),e.jsx("path",{d:"M160.984 45.1743V103.716L45.1641 103.716L45.1641 45.1743H160.984Z",fill:"white"}),e.jsx("path",{d:"M125.171 45.1743H184.605V201.284H125.171V45.1743Z",fill:"white"}),e.jsx("path",{d:"M159.841 131.85V173.88L63.8324 173.88L63.8324 131.85H159.841Z",fill:"white"})]})}function se(){const[a,s]=i.useState(!1);return i.useEffect(()=>{s(!0)},[]),a}function te(a){const s=I(),{isPaidUser:t,isLoading:r}=p();if(!se()||r)return null;if(!s)return e.jsxs("button",{onClick:z,className:"animate-fade-in inline-flex h-auto w-full items-center justify-center gap-2 rounded-lg border border-gray-700 bg-black px-4 py-2.5 text-sm font-medium text-white transition-all duration-200 outline-none hover:!opacity-80 disabled:cursor-not-allowed disabled:opacity-60",children:[e.jsx(K,{className:"size-4"}),"Free Signup or Login"]});const o=s?.avatar?`https://dodrc8eu8m09s.cloudfront.net/avatars/${s?.avatar}`:"/images/default-avatar.png";return e.jsxs(A,{children:[e.jsx(U,{asChild:!0,children:e.jsxs("button",{className:"group flex w-full items-center gap-3 rounded-lg border border-transparent px-4 py-2.5 text-sm font-medium transition-colors hover:bg-gray-100 hover:text-black focus:outline-none data-[state=open]:bg-gray-100 data-[state=open]:text-black",children:[e.jsx("div",{className:"relative size-7 shrink-0 overflow-hidden rounded-full",children:e.jsx("img",{src:o,alt:s.name,className:"absolute inset-0 h-full w-full object-cover"})}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col text-left",children:[e.jsx("span",{className:"truncate font-medium text-gray-900",children:s.name}),e.jsx("span",{className:"truncate text-xs text-gray-500",children:t?"Pro Member":"Free User"})]}),e.jsx(H,{className:"size-4 text-gray-400 transition-transform duration-200 group-data-[state=open]:rotate-180"})]})}),e.jsxs(P,{className:"w-[var(--radix-dropdown-menu-trigger-width)] min-w-52 rounded-lg border border-gray-200 bg-white p-1",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{asChild:!0,children:e.jsxs("a",{href:"/account",className:"flex w-full items-center gap-3 rounded px-3 py-2 text-sm font-medium text-gray-500 transition-colors hover:bg-gray-100 hover:text-black",children:[e.jsx(D,{className:"size-4"}),"Account"]})}),e.jsx(c,{asChild:!0,children:e.jsxs("a",{href:"/account/billing",className:"flex w-full items-center gap-3 rounded px-3 py-2 text-sm font-medium text-gray-500 transition-colors hover:bg-gray-100 hover:text-black",children:[e.jsx(F,{className:"size-4"}),"Billing"]})}),e.jsx(c,{asChild:!0,children:e.jsxs("a",{href:"/account/settings",className:"flex w-full items-center gap-3 rounded px-3 py-2 text-sm font-medium text-gray-500 transition-colors hover:bg-gray-100 hover:text-black",children:[e.jsx(V,{className:"size-4"}),"Settings"]})})]}),e.jsx(T,{className:"my-1"}),e.jsxs(c,{className:"flex w-full items-center gap-3 rounded px-3 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50 hover:text-red-700",onSelect:()=>{S()},children:[e.jsx(O,{className:"size-4"}),"Logout"]})]})]})}const ae=[{key:"new",label:"Create with AI",href:"/ai",icon:q},{key:"quiz",label:"Test my Skills",href:"/ai/quiz",icon:B},{key:"chat",label:"Ask AI Tutor",href:"/ai/chat",icon:E},{key:"roadmap-chat",label:"Roadmap Chat",href:"/ai/roadmap-chat",icon:_},{key:"library",label:"My Learning",href:"/ai/courses",icon:$},{key:"staff-picks",label:"Staff Picks",href:"/ai/staff-picks",icon:Q},{key:"community",label:"Community",href:"/ai/community",icon:G}];function re(a){const{activeTab:s,isFloating:t,onClose:r}=a,[l,o]=i.useState(!0),[n,f]=i.useState(!1),[h,m]=i.useState(!1),{isPaidUser:g,isLoading:b}=p(),{data:j,isLoading:y}=v(C(),L),{used:ie,limit:le}=j??{used:0,limit:0};i.useEffect(()=>{o(!1)},[]);const w=b||y;return e.jsxs(e.Fragment,{children:[h&&e.jsx(k,{onClose:()=>m(!1)}),n&&e.jsx(M,{onClose:()=>f(!1),onUpgrade:()=>{m(!0),f(!1)}}),e.jsxs("aside",{className:d("flex w-[255px] shrink-0 flex-col border-r border-slate-200",t?"fixed top-0 bottom-0 left-0 z-50 flex border-r-0 bg-white shadow-xl":"hidden lg:flex"),children:[t&&e.jsx("button",{className:"absolute top-3 right-3",onClick:r,children:e.jsx(Z,{strokeWidth:3,className:"size-3.5 text-gray-400 hover:text-black"})}),e.jsxs("div",{className:"flex flex-col items-start justify-center px-6 py-5",children:[e.jsx("div",{className:"flex flex-row items-center gap-1",children:e.jsx(ee,{className:"size-11 text-gray-500",color:"black"})}),e.jsxs("div",{className:"my-3 flex flex-col",children:[e.jsx("h2",{className:"-mb-px text-base font-semibold text-black",children:"AI Tutor"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["by"," ",e.jsx("a",{href:"/",className:"underline-offset-2 hover:underline",children:"roadmap.sh"})]})]}),e.jsx("p",{className:"max-w-[150px] text-xs text-gray-500",children:"Your personalized learning companion for any topic"})]}),e.jsxs("ul",{className:"list-none space-y-1",children:[ae.map(x=>e.jsx("li",{children:e.jsx(oe,{item:x,isActive:s===x.key})},x.key)),!l&&N()&&!g&&!w&&e.jsx("li",{children:e.jsx(R,{onUpgrade:()=>m(!0)})})]}),e.jsx("div",{className:"mx-2 mt-auto mb-2",children:e.jsx(te,{})})]}),t&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:r})]})}function oe(a){const{item:s,as:t="a",onClick:r,className:l,isActive:o}=a,n=t;return e.jsx(n,{...t==="a"?{href:s.href}:{},...t==="button"?{onClick:r}:{},className:d("font-regular flex w-full items-center border-r-2 px-5 py-2 text-sm transition-all",o?"border-r-black bg-gray-100 text-black":"border-r-transparent text-gray-500 hover:border-r-gray-300",l),children:e.jsxs("span",{className:"flex grow items-center",children:[e.jsx(s.icon,{className:"mr-2 size-4"}),s.label]})})}function Fe(a){const{children:s,activeTab:t,wrapperClassName:r,containerClassName:l}=a,[o,n]=i.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sticky top-0 z-10 flex flex-row items-center justify-between border-b border-slate-200 bg-white px-4 py-3 lg:hidden",children:[e.jsx("a",{href:"/",className:"flex flex-row items-center gap-1.5",children:e.jsx(W,{className:"size-6 text-gray-500",color:"black"})}),e.jsx("button",{className:"flex flex-row items-center gap-1",onClick:()=>n(!o),children:e.jsx(X,{className:"size-5 text-gray-500"})})]}),e.jsxs("div",{className:d("flex flex-grow flex-row lg:h-screen",l),children:[e.jsx(re,{onClose:()=>n(!1),isFloating:o,activeTab:t}),e.jsx("div",{className:d("flex flex-grow flex-col overflow-y-scroll bg-gray-100 p-3 lg:p-4",r),children:s})]})]})}export{Fe as A,se as u};
