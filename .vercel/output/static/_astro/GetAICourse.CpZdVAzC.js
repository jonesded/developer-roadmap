import{j as C}from"./jsx-runtime.D_zvdyIk.js";import{u as y,q as m}from"./query-client.zrB8z_yM.js";import{g as p}from"./ai-course.DbIkPj3f.js";import{r as o}from"./index.Z3BHPS3u.js";import{A as E,g as S}from"./generate-ai-course.DNd-WJtD.js";import"./js.cookie.Cz0CWeBA.js";import"./query-http.BQfMbvYq.js";import"./fp.esm.CznIeghd.js";import"./jwt.1xGNZsvU.js";import"./classname.y9b8gBZq.js";import"./billing.D5yrowA9.js";import"./UpgradeAccountModal.fZmxo5nD.js";import"./useMutation.BxVH4XRI.js";import"./use-toast.BdCcSTJE.js";import"./toast.DlejBBdi.js";import"./index.3whys8t3.js";import"./Modal.NtjGPDbq.js";import"./use-outside-click.DYGsxgbd.js";import"./use-keydown.r409VyJJ.js";import"./x.BOdyWiWF.js";import"./createLucideIcon.BSLrQS80.js";import"./UpdatePlanConfirmation.CPFKRCnq.js";import"./VerifyUpgrade.ButUjaV5.js";import"./browser.3c2kCsRM.js";import"./circle-check-big.CnV0y9bI.js";import"./loader-circle.DfB4mNyf.js";import"./zap.BNbCfd_G.js";import"./message-circle.C1uJbl19.js";import"./map.DuWy2ZcB.js";import"./ErrorIcon.BTBCVae1.js";import"./ai.DmXEK0i3.js";import"./index.browser.OxPLOBIU.js";import"./markdown.CL3gtrVM.js";import"./preload-helper.BlTxHScW.js";import"./slugger.rj1cS6co.js";/* empty css                        */import"./UpdatePreferences.ltxZElUq.js";import"./QuestionAnswerChat.C4o_FL4A.js";import"./index.BlPpvBlM.js";import"./index.Bbp-6C1p.js";import"./CheckIcon.D4OhQ5l1.js";import"./Tooltip.CCudSue-.js";import"./refresh-ccw.C3KtdZ75.js";import"./trash-2.CIQaIo_h.js";import"./send.BVE6djDn.js";import"./popup.CdCAhVM2.js";import"./square-pen.CCkK4Twl.js";import"./frown.DZolOWqV.js";import"./chevron-left.DdnmjL-W.js";import"./chevron-right.B-RYTm0N.js";import"./circle-x.BL3YVBBU.js";import"./circle.D81F4kBU.js";import"./AICourseLessonChat.BF6UaYaU.js";import"./react-textarea-autosize.browser.esm.CREEQHIU.js";import"./Spinner.CPY-6wbR.js";import"./user-round.D2mOPNuO.js";import"./bot.CQ2bIWO6.js";import"./lock.C0C-BW9S.js";import"./check.DflWYpXj.js";import"./number.DnDLgi2j.js";import"./info.Cr2knUfd.js";import"./gift.C1ExsHI3.js";import"./chevron-down.pBq1owZr.js";import"./AILimitsPopup.D5vT42pW.js";/* empty css                        */import"./index.Dgut0sTl.js";import"./dom.B_TnKQIa.js";import"./resource-progress.DnX2IG6-.js";import"./http.BJhNQusg.js";import"./roadmap.DwTTnFhR.js";import"./index.BHh4vvK5.js";import"./copy.CgTXj779.js";import"./use-auth.Bw1nhFr_.js";import"./menu.B2j5jEPR.js";import"./circle-alert.DQNBwVc5.js";function Mr(a){const{courseSlug:t}=a,[n,s]=o.useState(!0),[l,g]=o.useState(!1),[d,u]=o.useState(""),{data:r,error:e}=y({...p({aiCourseSlug:t}),enabled:!!t},m);o.useEffect(()=>{r&&s(!1)},[r]),o.useEffect(()=>{e&&(s(!1),u(e.message))},[e]);const f=async c=>{r&&(m.setQueryData(p({aiCourseSlug:t}).queryKey,{...r,title:"",difficulty:"",modules:[]}),await S({term:r.keyword,slug:t,prompt:c,onCourseChange:(i,I)=>{m.setQueryData(p({aiCourseSlug:t}).queryKey,{...r,title:i.title,modules:i.modules})},onLoadingChange:i=>{g(i)},onError:u,isForce:!0}))};return C.jsx(E,{course:{title:r?.title||"",modules:r?.modules||[],done:r?.done||[]},isLoading:n||l,courseSlug:t,error:d,onRegenerateOutline:f,creatorId:r?.userId})}export{Mr as GetAICourse};
