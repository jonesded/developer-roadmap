import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.Z3BHPS3u.js";import{c as $,P as A,a as L,b as O,u as _,h as G,R as H,d as K,e as P,f as z,F as U,D as V,C as W,g as Z,i as q,j as B,k as w,A as b,l as J}from"./Combination.CkJeYjFl.js";import{c as Q}from"./classname.y9b8gBZq.js";var x="Popover",[j,ge]=$(x,[O]),g=O(),[X,l]=j(x),E=e=>{const{__scopePopover:n,children:r,open:s,defaultOpen:o,onOpenChange:t,modal:p=!1}=e,i=g(n),f=c.useRef(null),[v,h]=c.useState(!1),[C,u]=Z({prop:s,defaultProp:o??!1,onChange:t,caller:x});return a.jsx(q,{...i,children:a.jsx(X,{scope:n,contentId:B(),triggerRef:f,open:C,onOpenChange:u,onOpenToggle:c.useCallback(()=>u(m=>!m),[u]),hasCustomAnchor:v,onCustomAnchorAdd:c.useCallback(()=>h(!0),[]),onCustomAnchorRemove:c.useCallback(()=>h(!1),[]),modal:p,children:r})})};E.displayName=x;var N="PopoverAnchor",Y=c.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,o=l(N,r),t=g(r),{onCustomAnchorAdd:p,onCustomAnchorRemove:i}=o;return c.useEffect(()=>(p(),()=>i()),[p,i]),a.jsx(b,{...t,...s,ref:n})});Y.displayName=N;var y="PopoverTrigger",F=c.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,o=l(y,r),t=g(r),p=_(n,o.triggerRef),i=a.jsx(w.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":T(o.open),...s,ref:p,onClick:P(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:a.jsx(b,{asChild:!0,...t,children:i})});F.displayName=y;var R="PopoverPortal",[ee,oe]=j(R,{forceMount:void 0}),S=e=>{const{__scopePopover:n,forceMount:r,children:s,container:o}=e,t=l(R,n);return a.jsx(ee,{scope:n,forceMount:r,children:a.jsx(A,{present:r||t.open,children:a.jsx(L,{asChild:!0,container:o,children:s})})})};S.displayName=R;var d="PopoverContent",D=c.forwardRef((e,n)=>{const r=oe(d,e.__scopePopover),{forceMount:s=r.forceMount,...o}=e,t=l(d,e.__scopePopover);return a.jsx(A,{present:s||t.open,children:t.modal?a.jsx(te,{...o,ref:n}):a.jsx(ne,{...o,ref:n})})});D.displayName=d;var re=K("PopoverContent.RemoveScroll"),te=c.forwardRef((e,n)=>{const r=l(d,e.__scopePopover),s=c.useRef(null),o=_(n,s),t=c.useRef(!1);return c.useEffect(()=>{const p=s.current;if(p)return G(p)},[]),a.jsx(H,{as:re,allowPinchZoom:!0,children:a.jsx(k,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,p=>{p.preventDefault(),t.current||r.triggerRef.current?.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,p=>{const i=p.detail.originalEvent,f=i.button===0&&i.ctrlKey===!0,v=i.button===2||f;t.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,p=>p.preventDefault(),{checkForDefaultPrevented:!1})})})}),ne=c.forwardRef((e,n)=>{const r=l(d,e.__scopePopover),s=c.useRef(!1),o=c.useRef(!1);return a.jsx(k,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,t.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const p=t.target;r.triggerRef.current?.contains(p)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&o.current&&t.preventDefault()}})}),k=c.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:t,disableOutsidePointerEvents:p,onEscapeKeyDown:i,onPointerDownOutside:f,onFocusOutside:v,onInteractOutside:h,...C}=e,u=l(d,r),m=g(r);return z(),a.jsx(U,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:t,children:a.jsx(V,{asChild:!0,disableOutsidePointerEvents:p,onInteractOutside:h,onEscapeKeyDown:i,onPointerDownOutside:f,onFocusOutside:v,onDismiss:()=>u.onOpenChange(!1),children:a.jsx(W,{"data-state":T(u.open),role:"dialog",id:u.contentId,...m,...C,ref:n,style:{...C.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),M="PopoverClose",se=c.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,o=l(M,r);return a.jsx(w.button,{type:"button",...s,ref:n,onClick:P(e.onClick,()=>o.onOpenChange(!1))})});se.displayName=M;var ae="PopoverArrow",ce=c.forwardRef((e,n)=>{const{__scopePopover:r,...s}=e,o=g(r);return a.jsx(J,{...o,...s,ref:n})});ce.displayName=ae;function T(e){return e?"open":"closed"}var pe=E,ie=F,le=S,I=D;const he=pe,Ce=ie,ue=c.forwardRef(({className:e,align:n="center",sideOffset:r=4,...s},o)=>a.jsx(le,{children:a.jsx(I,{ref:o,align:n,sideOffset:r,className:Q("z-50 w-72 rounded-lg border border-gray-200 bg-white p-2 text-black shadow-sm outline-none",e),...s})}));ue.displayName=I.displayName;export{he as P,Ce as a,ue as b};
