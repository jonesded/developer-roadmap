import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{g as p}from"./jwt.1xGNZsvU.js";import{r as n}from"./index.Z3BHPS3u.js";import{u as x}from"./use-outside-click.DYGsxgbd.js";import{u as h}from"./use-keydown.r409VyJJ.js";import{c}from"./classname.y9b8gBZq.js";import{u as f}from"./use-copy-text.D2rWbbuk.js";import{C as d}from"./CheckIcon.D4OhQ5l1.js";import{S as j}from"./ShareIcon._wHpzMFh.js";import{E as g}from"./ellipsis-vertical.Di0fjBX0.js";import{C as b}from"./circle-dashed.CWS34pCs.js";import{T as w}from"./thumbs-up.Bh8cJMHm.js";function y(o){const{userId:s,projectId:a}=o,t=n.useRef(null),[r,i]=n.useState(!1),{copyText:m,isCopied:l}=f(),u=`https://roadmap.sh/projects/${a}/solutions?u=${s}`;return x(t,()=>{i(!1)}),h("Escape",()=>{i(!1)}),e.jsxs("div",{className:"relative h-full",ref:t,children:[e.jsx("button",{className:"h-full text-gray-400 hover:text-gray-700",onClick:()=>i(!r),children:e.jsx(g,{size:16})}),r&&e.jsx("div",{className:"absolute right-0 top-8 z-10 w-48 overflow-hidden rounded-md border border-gray-200 bg-white shadow-lg",children:e.jsx("button",{className:c("flex w-full items-center gap-1.5 p-2 text-xs font-medium hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-70 sm:text-sm",l?"text-green-500":"text-gray-500 hover:text-black"),onClick:()=>{m(u)},children:l?e.jsxs(e.Fragment,{children:[e.jsx(d,{additionalClasses:"h-3.5 w-3.5"})," Link Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-3.5 w-3.5 stroke-[2.5px]"})," Share Solution"]})})})]})}function v(o){const{projectStatus:s}=o,{submittedAt:a,repositoryUrl:t}=s;return(a&&t?"submitted":"started")==="submitted"?e.jsx(d,{additionalClasses:"size-3 text-gray-500 shrink-0"}):e.jsx(b,{className:"size-3 shrink-0 stroke-[2.5px] text-gray-400"})}function O(o){const{projectStatus:s,showActions:a=!0,userId:t=p()?.id}=o,r=s.submittedAt&&s.submittedAt!==null&&a;return e.jsxs("div",{className:"relative",children:[e.jsxs("a",{className:c("group relative flex w-full items-center justify-between overflow-hidden rounded-md border border-gray-300 bg-white px-3 py-2 pr-7 text-left text-sm transition-all hover:border-gray-400",r?"":"pr-3"),href:`/projects/${s.projectId}`,target:"_blank",children:[e.jsx(v,{projectStatus:s}),e.jsx("span",{className:"ml-2 grow truncate",children:s?.title}),e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-400",children:[s.upvotes,e.jsx(w,{className:"size-2.5 stroke-[2.5px]"})]})]}),r&&e.jsx("div",{className:"absolute right-2 top-0 flex h-full items-center",children:e.jsx(y,{userId:t,projectId:s.projectId})})]})}export{O as P};
