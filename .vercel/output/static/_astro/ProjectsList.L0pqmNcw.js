import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{p as b,P as g}from"./ProjectCard.DOm8iCET.js";import{c as j}from"./classname.y9b8gBZq.js";import{r as a}from"./index.Z3BHPS3u.js";import{g as y,s as v,d as k}from"./browser.3c2kCsRM.js";import{h as w}from"./http.BJhNQusg.js";import{i as N}from"./jwt.1xGNZsvU.js";import{T as P}from"./trash-2.CIQaIo_h.js";import{H as C}from"./heart-handshake.ChP6KiKS.js";import"./transition.MUZrSsh7.js";import"./head.CbjsIJ-A.js";import"./vue.BIhB9hsv.js";import"./js.cookie.Cz0CWeBA.js";import"./number.DnDLgi2j.js";import"./users.DjpFdpTD.js";import"./createLucideIcon.BSLrQS80.js";import"./fp.esm.CznIeghd.js";function S(n){const{difficulty:s,onClick:c,isActive:d}=n;return e.jsx("button",{onClick:c,className:j("rounded-md border bg-white px-3 py-1 text-sm capitalize transition-colors hover:border-gray-300 hover:bg-gray-100",{"border-black bg-gray-100 hover:border-black hover:bg-gray-100 hover:text-black":d}),children:s})}function G(n){const{projects:s,userCounts:c}=n,{difficulty:d}=y(),[i,l]=a.useState(d),[m,f]=a.useState(),u=async()=>{if(!N()){f({});return}const t=s.map(x=>x.id),{response:r,error:o}=await w("https://api.hnmdevs.com/v1-list-project-statuses",{projectIds:t});if(o||!r){console.error(o);return}f(r)},h=a.useMemo(()=>{const t=new Map;for(const r of s){const o=r.frontmatter.difficulty;t.has(o)||t.set(o,[]),t.get(o)?.push(r)}return t},[s]),p=i?h.get(i)||[]:s;return a.useEffect(()=>{u().finally()},[]),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"my-2.5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.map(t=>e.jsx(S,{onClick:()=>{l(t),v({difficulty:t})},difficulty:t,isActive:t===i},t)),i&&e.jsxs("button",{onClick:()=>{l(void 0),k("difficulty")},className:"flex items-center gap-1.5 rounded-md border border-red-500 bg-transparent px-2 py-0.5 text-sm text-red-500 transition-colors hover:bg-red-500 hover:text-white",children:[e.jsx(P,{className:"h-3.5 w-3.5",strokeWidth:2.25}),"Clear"]})]}),e.jsxs("a",{href:"https://github.com/kamranahmedse/developer-roadmap/issues/new?assignees=&labels=project+contribution&projects=&template=05-project-contribution.yml",target:"_blank",className:"hidden items-center gap-2 rounded-md border border-transparent px-2 py-0.5 text-sm underline underline-offset-2 hover:bg-black hover:text-white hover:no-underline sm:flex",children:[e.jsx(C,{className:"h-4 w-4"}),"Submit a Project Idea"]})]}),e.jsxs("div",{className:"mb-24 grid grid-cols-1 gap-1.5 sm:grid-cols-2 lg:grid-cols-3",children:[p.length===0&&e.jsx("div",{className:"col-span-3 rounded-md border bg-white p-4 text-left text-sm text-gray-500",children:e.jsx("p",{children:"No matching projects found."})}),p.sort(t=>t.frontmatter.difficulty==="beginner"?-1:t.frontmatter.difficulty==="intermediate"?0:1).sort((t,r)=>t.frontmatter.sort-r.frontmatter.sort).map(t=>{const r=c[t?.id]||0;return e.jsx(g,{project:t,userCount:r,status:m?m?.[t.id]||"none":void 0},t.id)})]})]})}export{G as ProjectsList};
