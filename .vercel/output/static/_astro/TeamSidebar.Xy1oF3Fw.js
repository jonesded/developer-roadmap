import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{TeamDropdown as v}from"./TeamDropdown.DaS3e5MI.js";import{u as g}from"./use-team-id.DuJRAVKZ.js";import{c as N}from"./runtime.qgnuanK_.js";import{r as a}from"./index.Z3BHPS3u.js";import{u as C}from"./index.BlfZEqDn.js";import{a as S}from"./team.D9_M1CfW.js";import{u as T}from"./use-outside-click.DYGsxgbd.js";import{u as $}from"./use-keydown.r409VyJJ.js";import{h as F}from"./http.BJhNQusg.js";import{C as E}from"./CheckIcon.D4OhQ5l1.js";import{C as I}from"./ChevronDownIcon.CJEYWQ-F.js";import{G as f}from"./GroupIcon.CTzck0Or.js";import{c as M}from"./createLucideIcon.BSLrQS80.js";import{M as z}from"./map.DuWy2ZcB.js";import{M as b}from"./message-circle.C1uJbl19.js";import"./use-auth.Bw1nhFr_.js";import"./js.cookie.Cz0CWeBA.js";import"./jwt.1xGNZsvU.js";import"./Spinner.CPY-6wbR.js";import"./use-toast.BdCcSTJE.js";import"./toast.DlejBBdi.js";import"./index.3whys8t3.js";import"./classname.y9b8gBZq.js";import"./transition.MUZrSsh7.js";import"./index.BHh4vvK5.js";import"./fp.esm.CznIeghd.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],A=M("chart-no-axes-column",P);N({meta:{src:"/_astro/chat.D-nhwTma.svg",width:24,height:24,format:"svg"},attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",strokeLinejoin:"round",class:"lucide lucide-message-circle"},children:'<path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z" />'});function B(s){const{onClose:r}=s,c=a.useRef(null),u=a.useRef(null),[m,d]=a.useState(!1),[n,o]=a.useState(""),[l,t]=a.useState(""),[i,j]=a.useState(!1),{teamId:w}=g();T(c,()=>{r()}),$("Escape",()=>{r()}),a.useEffect(()=>{u.current?.focus()},[]);const y=async x=>{x.preventDefault(),d(!0),o("");const{response:k,error:h}=await F(`https://api.hnmdevs.com/v1-submit-team-feedback/${w}`,{feedback:l});if(h||!k){d(!1),o(h?.message||"Something went wrong");return}j(!0)},p=()=>{d(!1),o(""),t(""),r()};return e.jsx("div",{className:"fixed left-0 right-0 top-0 z-50 flex h-full items-center justify-center overflow-y-auto overflow-x-hidden bg-black/50",children:e.jsx("div",{className:"relative h-full w-full max-w-md p-4 md:h-auto",children:e.jsxs("div",{ref:c,className:"popup-body relative rounded-lg bg-white p-4 shadow-sm",children:[!i&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"mb-1 text-xl font-semibold text-black",children:"Enter your feedback"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Help us improve your experience."}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"my-4",children:[e.jsx("textarea",{ref:u,name:"submit-feedback",id:"submit-feedback",className:"mt-2 block min-h-[150px] w-full resize-none rounded-md border border-gray-300 px-3 py-2 outline-hidden placeholder:text-gray-400",placeholder:"Enter your feedback",required:!0,autoFocus:!0,value:l,onInput:x=>t(x.target.value)}),n&&e.jsx("p",{className:"mt-2 rounded-md bg-red-100 p-2 text-red-700",children:n})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",disabled:m,onClick:p,className:"grow cursor-pointer rounded-md bg-gray-200 py-2 text-center",children:"Cancel"}),e.jsx("button",{disabled:m,type:"submit",className:"grow cursor-pointer rounded-md bg-black py-2 text-white disabled:opacity-40",children:m?"Please wait ..":"Send"})]})]})]}),i&&e.jsxs("div",{className:"flex w-full flex-col items-center",children:[e.jsx(E,{additionalClasses:"w-14 h-14 text-green-500 mt-4"}),e.jsx("h1",{className:"mt-4 text-xl font-semibold text-black sm:text-2xl",children:"Feedback Submitted"}),e.jsx("p",{className:"text-center text-sm text-gray-500 sm:text-base",children:"Thank you for submitting your feedback."}),e.jsx("button",{type:"button",onClick:p,className:"mt-4 w-full grow cursor-pointer rounded-lg bg-black py-2 text-center text-white disabled:opacity-40",children:"Close"})]})]})})})}function D(s){const{className:r}=s;return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})}function R(s){const{className:r}=s;return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:r,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function ue({activePageId:s,children:r}){const[c,u]=a.useState(!1),m=C(S),[d,n]=a.useState(!1),{teamId:o}=g(),l=[{title:"Activity",href:`/team/activity?t=${o}`,id:"activity",icon:A},{title:"Progress",href:`/team/progress?t=${o}`,id:"progress",icon:D},{title:"Roadmaps",href:`/team/roadmaps?t=${o}`,id:"roadmaps",icon:z,hasWarning:m?.roadmaps?.length===0},{title:"Members",href:`/team/members?t=${o}`,id:"members",icon:f},{title:"Settings",href:`/team/settings?t=${o}`,id:"settings",icon:R}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-5 block border-b p-4 shadow-inner md:hidden",children:[e.jsxs("button",{className:"flex h-10 w-full items-center justify-between rounded-md border bg-white px-2 text-center text-sm font-medium text-gray-900",id:"settings-menu","aria-haspopup":"true","aria-expanded":"true",onClick:()=>u(!c),children:[l.find(t=>t.id===s)?.title,e.jsx(I,{className:"h-4 w-4"})]}),c&&e.jsxs("ul",{id:"settings-menu-dropdown",className:"absolute left-0 right-0 z-50 mt-1 space-y-1.5 bg-white p-2 shadow-lg",children:[e.jsx("li",{children:e.jsxs("a",{href:"/team",className:`flex w-full items-center rounded px-3 py-1.5 text-sm text-slate-900 hover:bg-slate-200 ${s==="team"?"bg-slate-100":""}`,children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Personal Account / Teams"]})}),l.map(t=>{const i=s===t.id;return e.jsx("li",{children:e.jsxs("a",{href:t.href,className:`flex w-full items-center rounded px-3 py-1.5 text-sm text-slate-900 hover:bg-slate-200 ${i?"bg-slate-100":""}`,children:[e.jsx(t.icon,{className:"mr-2 h-4 w-4"}),t.title]})},t.id)}),e.jsx("li",{children:e.jsxs("button",{className:"flex w-full items-center rounded-sm px-3 py-1.5 text-sm text-slate-900 hover:bg-slate-200",onClick:()=>n(!0),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Send Feedback"]})})]})]}),d&&e.jsx(B,{onClose:()=>{n(!1)}}),e.jsxs("div",{className:"container flex min-h-screen items-stretch",children:[e.jsxs("aside",{className:"hidden w-44 shrink-0 border-r border-slate-200 py-10 md:block",children:[e.jsx(v,{}),e.jsxs("nav",{children:[e.jsx("ul",{className:"space-y-1",children:l.map(t=>{const i=s===t.id;return e.jsx("li",{children:e.jsx("a",{href:t.href,className:`font-regular flex w-full items-center border-r-2 px-2 py-1.5 text-sm ${i?"border-r-black bg-gray-100 text-black":"border-r-transparent text-gray-500 hover:border-r-gray-300"}`,children:e.jsxs("span",{className:"flex grow items-center justify-between",children:[e.jsxs("span",{className:"flex",children:[e.jsx(t.icon,{className:"mr-2 h-4 w-4"}),t.title]}),t.hasWarning&&e.jsxs("span",{className:"relative mr-1 flex items-center",children:[e.jsx("span",{className:"relative rounded-full bg-red-200 p-1 text-xs"}),e.jsx("span",{className:"absolute bottom-0 left-0 right-0 top-0 animate-ping rounded-full bg-red-400 p-1 text-xs"})]})]})})},t.id)})}),e.jsxs("button",{className:"mr-3 mt-4 flex items-center justify-center rounded-md border p-2 text-sm text-gray-500 transition-colors hover:border-gray-300 hover:bg-gray-50 hover:text-black",onClick:()=>n(!0),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Send Feedback"]})]})]}),e.jsx("div",{className:"grow px-0 py-0 md:px-10 md:py-10",children:r})]})]})}export{ue as TeamSidebar};
