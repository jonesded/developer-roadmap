import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.Z3BHPS3u.js";import{M as u}from"./Modal.NtjGPDbq.js";import{Q as h}from"./QuestionAnswerChat.pORxTD0f.js";function j(i){const{onClose:n,onSubmit:t,title:c="Give AI more context",description:d="Pass additional information to the AI to generate a course outline."}=i,[a,l]=m.useState(""),s=r=>{r.preventDefault(),t(a)};return e.jsx(u,{onClose:n,wrapperClassName:"rounded-xl max-w-xl w-full h-auto",bodyClassName:"p-6",overlayClassName:"items-start md:items-center",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2 text-left text-xl font-semibold",children:c}),e.jsx("p",{className:"text-sm text-gray-500",children:d})]}),e.jsxs("form",{className:"flex flex-col gap-2",onSubmit:s,children:[e.jsx("textarea",{id:"prompt",autoFocus:!0,rows:3,value:a,onChange:r=>l(r.target.value),className:"w-full rounded-md border border-gray-200 p-2 placeholder:text-sm focus:outline-black",placeholder:"e.g. make sure to add a section on React hooks"}),e.jsx("p",{className:"text-sm text-gray-500",children:'Complete the sentence: "I want AI to..."'}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"rounded-md bg-gray-200 px-4 py-2.5 text-sm text-black hover:opacity-80",onClick:n,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!a.trim(),className:"rounded-md bg-black px-4 py-2.5 text-sm text-white hover:opacity-80 disabled:opacity-50",children:"Modify Prompt"})]})]})]})})}function A(i){const{onClose:n,questionAndAnswers:t,term:c,format:d,onUpdatePreferences:a,isUpdating:l}=i,[s,r]=m.useState(t||[]),p=t?.filter(o=>o.role==="assistant").map(o=>({question:o.question,possibleAnswers:o.possibleAnswers})),x=m.useMemo(()=>JSON.stringify(s)!==JSON.stringify(t),[s,t]);console.log(s),console.log(t);const f=s.filter(o=>o.role==="user").length===p?.length;return e.jsxs(u,{onClose:n,bodyClassName:"p-4 flex flex-col gap-4",wrapperClassName:"max-w-xl  h-auto",overlayClassName:"items-start md:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Update Preferences"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your preferences for better content"})]}),e.jsx(h,{term:c,format:d,questionAnswerChatMessages:s,setQuestionAnswerChatMessages:r,defaultQuestions:p,onGenerateNow:()=>{a(s)},className:"-mx-2 h-[400px] border-none p-0",type:"update"}),x&&f&&e.jsx("button",{className:"rounded-lg bg-black px-4 py-2 text-white hover:opacity-80 disabled:opacity-50",disabled:l||!x,onClick:()=>{a(s)},children:l?"Updating...":"Apply preferences"})]})}export{j as M,A as U};
