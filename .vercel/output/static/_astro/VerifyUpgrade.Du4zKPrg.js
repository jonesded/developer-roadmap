import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.Z3BHPS3u.js";import{u as i,q as l}from"./query-client.zrB8z_yM.js";import{b as n}from"./billing.CL3NoBuc.js";import{M as o}from"./Modal.NtjGPDbq.js";import{d as c}from"./browser.3c2kCsRM.js";import{C as m}from"./circle-check-big.CnV0y9bI.js";import{L as x}from"./loader-circle.DfB4mNyf.js";function j(s){const{newPriceId:a}=s,{data:t}=i({...n(),refetchInterval:1e3},l);return r.useEffect(()=>{t&&t.status==="active"&&(!a||t.priceId===a)&&(a||window?.fireEvent({action:`tutor_purchase_${t.interval==="month"?"mo":"an"}`,category:"ai_tutor",label:`${t.interval} Plan Purchased`}),c("s"),window.location.reload())},[t]),r.useEffect(()=>{a||(window?.fireEvent({action:"tutor_purchase",category:"ai_tutor",label:"Subscription Activated"}),window?.fireEvent({action:"tutor_ty",category:"ai_tutor",label:"Thank You Page Visited"}))},[a]),e.jsxs(o,{onClose:()=>{},bodyClassName:"rounded-xl bg-white p-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col items-center text-center",children:[e.jsx(m,{className:"mb-3 h-12 w-12 text-green-600"}),e.jsx("h3",{className:"text-xl font-bold text-black",children:"Subscription Activated"})]}),e.jsx("p",{className:"mt-2 text-center text-balance text-gray-600",children:"Your subscription has been activated successfully."}),e.jsxs("p",{className:"mt-4 text-center text-balance text-gray-600",children:["It might take a minute for the changes to reflect. We will"," ",e.jsx("b",{className:"text-black",children:"reload"})," the page for you."]}),e.jsxs("div",{className:"my-6 flex animate-pulse items-center justify-center gap-2",children:[e.jsx(x,{className:"size-4 animate-spin stroke-[2.5px] text-green-600"}),e.jsx("span",{className:"text-gray-600",children:"Please wait..."})]}),e.jsxs("p",{className:"text-center text-sm text-gray-500",children:["If it takes longer than expected, please email us at"," ",e.jsx("a",{href:"mailto:info@roadmap.sh",className:"text-blue-600 underline underline-offset-2 hover:text-blue-700",children:"info@roadmap.sh"}),"."]})]})}export{j as V};
