import{n as c}from"./index.browser.OxPLOBIU.js";const h=!1;function m(r){const l=r.split(`
`);let a="";const s=[];let e=null;for(let t=0;t<l.length;t++){const i=l[t].trim();t===0&&i.startsWith("#")?a=i.replace("#","").trim():i.startsWith("## ")?(e&&s.push(e),e={title:i.replace("## ",""),lessons:[]}):i.startsWith("- ")&&e&&e.lessons.push(i.replace("- ",""))}return e&&s.push(e),{title:a,modules:s,done:[]}}const u=10;async function w(r,{onStream:l,onStreamEnd:a}){const s=new TextDecoder("utf-8");let e="";for(;;){const{value:t,done:i}=await r.read();if(i)break;if(t){let n=0;for(let o=0;o<t.length;o++)t[o]===u&&(e+=s.decode(t.slice(n,o+1)),await l?.(e),n=o+1);n<t.length&&(e+=s.decode(t.slice(n)))}}await l?.(e),await a?.(e),r.releaseLock()}async function g(r,{onStream:l,onStreamEnd:a}){const s=new TextDecoder("utf-8");let e="";for(;;){const{value:t,done:i}=await r.read();if(i)break;t&&(e+=s.decode(t),l?.(e))}l?.(e),a?.(e),r.releaseLock()}async function b(r,{onStream:l,onStreamEnd:a}){const s=new TextDecoder("utf-8");let e="";for(;;){const{value:t,done:i}=await r.read();if(i)break;if(t){let n=0;for(let o=0;o<t.length;o++)t[o]===u&&(e+=s.decode(t.slice(n,o+1)),await l?.(e),n=o+1);n<t.length&&(e+=s.decode(t.slice(n)))}}await l?.(e),await a?.(e),r.releaseLock()}function W(r){const l=[],a=r.split(`
`);let s=null;for(let e=0;e<a.length;e++){const t=a[e].trim();if(t.startsWith("#")){s&&(l.push(s),s=null);const i=t.replace("#","").trim();s={id:c(),title:i,options:[]}}else if(t.startsWith("-")){if(!s)continue;let i=t.replace("-","").trim();const n=i.startsWith("*");i=i.replace("*","").trim(),s.options.push({id:c(),title:i,isCorrect:n})}}return s&&l.push(s),l}function A(r,l=!1){const a=r.split(`
`),s=[];let e=null;for(let t=0;t<a.length;t++){const i=a[t].trim();if(i.startsWith("###")){e&&s.push(e);const n=i.replace("###","").trim();e={id:c(),type:"topic",label:n,children:[]}}else if(i.startsWith("##"))s.push({id:c(),type:"label",label:i.replace("##","").trim()});else if(t===0&&i.startsWith("#")){const n=i.replace("#","").trim();s.push({id:c(),type:"title",label:n})}else if(i.startsWith("-")&&e){const n=i.replace("-","").trim();let o=c();if(l){const d=s.length-1,f=e.children?.length||0;o=`${d}-${f}`}e.children?.push({id:o,type:"subtopic",label:n})}}return e&&s.push(e),s}export{h as I,g as a,w as b,W as c,m as d,A as g,b as r};
