import{a as r}from"./js.cookie.Cz0CWeBA.js";new TextEncoder;const i=new TextDecoder;function l(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);const t=atob(e),o=new Uint8Array(t.length);for(let a=0;a<t.length;a++)o[a]=t.charCodeAt(a);return o}function u(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:i.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=i.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return l(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}class f extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,o){super(t,o),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class n extends f{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}function h(e){return typeof e=="object"&&e!==null}const p=e=>{if(!h(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function m(e){if(typeof e!="string")throw new n("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:o}=e.split(".");if(o===5)throw new n("Only JWTs using Compact JWS serialization can be decoded");if(o!==3)throw new n("Invalid JWT");if(!t)throw new n("JWTs must contain a payload");let a;try{a=u(t)}catch{throw new n("Failed to base64url decode the payload")}let c;try{c=JSON.parse(i.decode(a))}catch{throw new n("Failed to parse the decoded payload as JSON")}if(!p(c))throw new n("Invalid JWT Claims Set");return c}const s="__roadmapsh_jt__",_="fl",O="t",R="success";function y(e){return m(e)}function g(){return!!r.get(s)}function b(){const e=r.get(s);return e?y(e):null}function S(e){r.set(s,e,{path:"/",expires:30,sameSite:"lax",secure:!0,domain:".roadmap.sh"}),E()}function w(){r.remove(s,{path:"/",domain:".roadmap.sh"})}function T(e){Number(r.get(`crv-${e}`)||0)!==1&&r.set(`crv-${e}`,"1",{path:"/",expires:1/24,sameSite:"lax",secure:!0,domain:".roadmap.sh"})}const d="referral_code";function C(e){r.get(d)||r.set(d,e,{path:"/",expires:365,sameSite:"lax",secure:!0,domain:".roadmap.sh"})}function E(){r.remove(d,{path:"/",domain:".roadmap.sh"})}export{O as C,_ as F,s as T,C as a,R as b,y as d,b as g,g as i,w as r,S as s,T as v};
